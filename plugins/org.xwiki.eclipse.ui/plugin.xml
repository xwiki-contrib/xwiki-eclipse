<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
	<extension point="org.eclipse.ui.views">
		<category id="org.xwiki.eclipse" name="XWiki Eclipse">
      </category>
		<view allowMultiple="false" category="org.xwiki.eclipse" class="org.eclipse.ui.navigator.CommonNavigator" icon="icons/xwiki.png" id="org.xwiki.eclipse.ui.views.Navigator" name="XWiki Eclipse Navigator" restorable="true">
      </view>
  <view
        category="org.xwiki.eclipse"
        class="org.xwiki.eclipse.ui.views.PagePreview"
        icon="icons/xwiki.png"
        id="org.xwiki.eclipse.ui.views.PagePreview"
        name="XWiki Page Preview"
        restorable="true">
  </view>
	</extension>
	<extension point="org.eclipse.ui.navigator.viewer">
		<viewerContentBinding viewerId="org.eclipse.ui.navigator.ProjectExplorer">
			<includes>
				<contentExtension pattern="org.xwiki.eclipse.ui.navigator.content.XWikiEclipseDataManagers">
            </contentExtension>
			</includes>
		</viewerContentBinding>
		<viewerActionBinding viewerId="org.eclipse.ui.navigator.ProjectExplorer">
			<includes>
				<actionExtension pattern="org.xwiki.eclipse.ui.actions.*">
            </actionExtension>
			</includes>
		</viewerActionBinding>
		<viewerContentBinding viewerId="org.xwiki.eclipse.ui.views.Navigator">
			<includes>
				<contentExtension isRoot="true" pattern="org.xwiki.eclipse.ui.navigator.content.XWikiEclipseDataManagers">
            </contentExtension>
			</includes>
		</viewerContentBinding>
		<viewerActionBinding viewerId="org.xwiki.eclipse.ui.views.Navigator">
			<includes>
				<actionExtension pattern="org.xwiki.eclipse.ui.actions.*">
            </actionExtension>
			</includes>
		</viewerActionBinding>
	</extension>
	<extension point="org.eclipse.ui.navigator.navigatorContent">
		<navigatorContent contentProvider="org.xwiki.eclipse.ui.NavigatorContentProvider" icon="icons/xwiki.png" id="org.xwiki.eclipse.ui.navigator.content.XWikiEclipseDataManagers" labelProvider="org.eclipse.ui.model.WorkbenchLabelProvider" name="XWiki Eclipse Navigator Content" priority="highest">
			<triggerPoints>
				<adapt type="org.eclipse.core.resources.IProject">
					<test forcePluginActivation="true" property="org.eclipse.core.resources.projectNature" value="org.xwiki.eclipse.XWikiEclipseNature">
               </test>
				</adapt>
			</triggerPoints>
			<possibleChildren>
				<or>
					<instanceof value="org.xwiki.eclipse.core.DataManager">
               </instanceof>
					<instanceof value="org.xwiki.eclipse.core.model.XWikiEclipseSpaceSummary">
               </instanceof>
					<instanceof value="org.xwiki.eclipse.core.model.XWikiEclipsePageSummary">
               </instanceof>
					<instanceof value="org.xwiki.eclipse.core.model.XWikiEclipseObjectSummary">
               </instanceof>
				</or>
			</possibleChildren>
		</navigatorContent>
		<actionProvider class="org.xwiki.eclipse.ui.actions.DataManagerActionProvider" id="org.xwiki.eclipse.ui.actions.DataManagerActionProvider">
			<enablement>
				<instanceof value="org.xwiki.eclipse.core.DataManager">
               </instanceof>
			</enablement>
		</actionProvider>
		<actionProvider class="org.xwiki.eclipse.ui.actions.PropertyActionProvider" id="org.xwiki.eclipse.ui.actions.PropertyActionProvider">
			<enablement>
				<or>
					<instanceof value="org.xwiki.eclipse.core.model.ModelObject">
               </instanceof>
					<instanceof value="org.xwiki.eclipse.core.DataManager">
               </instanceof>
				</or>
			</enablement>
		</actionProvider>
  <actionProvider
        class="org.xwiki.eclipse.ui.actions.XWikiEclipseSpaceSummaryActionProvider"
        id="org.xwiki.eclipse.ui.actions.XWikiEclipseSpaceSummaryActionProvider">
     <enablement>
        <instanceof
              value="org.xwiki.eclipse.core.model.XWikiEclipseSpaceSummary">
        </instanceof>
     </enablement>
  </actionProvider>
		<actionProvider class="org.xwiki.eclipse.ui.actions.XWikiEclipsePageSummaryActionProvider" id="org.xwiki.eclipse.ui.actions.XWikiEclipsePageSummaryActionProvider">
			<enablement>
				<instanceof value="org.xwiki.eclipse.core.model.XWikiEclipsePageSummary">
               </instanceof>
			</enablement>
		</actionProvider>
  <actionProvider
        class="org.xwiki.eclipse.ui.actions.XWikiEclipseObjectSummaryActionProvider"
        id="org.xwiki.eclipse.ui.actions.XWikiEclipseObjectSummaryActionProvider">
     <enablement>
        <instanceof
              value="org.xwiki.eclipse.core.model.XWikiEclipseObjectSummary">
        </instanceof>
     </enablement>
  </actionProvider>
  <actionProvider
        class="org.xwiki.eclipse.ui.actions.DeleteActionProvider"
        id="org.xwiki.eclipse.ui.actions.DeleteActionProvider">
     <enablement>
        <or>
           <instanceof
                 value="org.xwiki.eclipse.core.DataManager">
           </instanceof>
           <instanceof
                 value="org.xwiki.eclipse.core.model.XWikiEclipsePageSummary">
           </instanceof>
           <instanceof
                 value="org.xwiki.eclipse.core.model.XWikiEclipseObjectSummary">
           </instanceof>
        </or>
     </enablement>
  </actionProvider>
  <actionProvider
        class="org.xwiki.eclipse.ui.actions.RefreshActionProvider"
        id="org.xwiki.eclipse.ui.actions.RefreshActionProvider">
     <enablement>
        <or>
           <instanceof
                 value="org.xwiki.eclipse.core.DataManager">
           </instanceof>
           <instanceof
                 value="org.xwiki.eclipse.core.model.XWikiEclipseSpaceSummary">
           </instanceof>
           <instanceof
                 value="org.xwiki.eclipse.core.model.XWikiEclipsePageSummary">
           </instanceof>
        </or>
     </enablement>
  </actionProvider>
	</extension>
	<extension point="org.eclipse.core.runtime.adapters">
		<factory adaptableType="org.xwiki.eclipse.core.DataManager" class="org.xwiki.eclipse.ui.adapters.AdapterFactory">
			<adapter type="org.eclipse.ui.model.IWorkbenchAdapter">
         </adapter>
			<adapter type="org.eclipse.ui.model.IWorkbenchAdapter2">
         </adapter>
		</factory>
		<factory adaptableType="org.xwiki.eclipse.core.model.XWikiEclipseSpaceSummary" class="org.xwiki.eclipse.ui.adapters.AdapterFactory">
			<adapter type="org.eclipse.ui.model.IWorkbenchAdapter">
         </adapter>
		</factory>
		<factory adaptableType="org.xwiki.eclipse.core.model.XWikiEclipsePageSummary" class="org.xwiki.eclipse.ui.adapters.AdapterFactory">
			<adapter type="org.eclipse.ui.model.IWorkbenchAdapter">
         </adapter>
		</factory>
  <factory
        adaptableType="org.xwiki.eclipse.core.model.XWikiEclipseObjectSummary"
        class="org.xwiki.eclipse.ui.adapters.AdapterFactory">
     <adapter
           type="org.eclipse.ui.model.IWorkbenchAdapter">
     </adapter>
  </factory>
	</extension>
	<extension point="org.eclipse.ui.editors">
		<editor class="org.xwiki.eclipse.ui.editors.PageEditor" contributorClass="org.eclipse.ui.texteditor.BasicTextEditorActionContributor" icon="icons/xwiki.png" id="org.xwiki.eclipse.ui.editors.PageEditor" name="Page Editor">
      </editor>
  <editor
        class="org.xwiki.eclipse.ui.editors.ObjectEditor"
        icon="icons/xwiki.png"
        id="org.xwiki.eclipse.ui.editors.Object"
        name="Object Editor">
  </editor>
	</extension>
	<extension point="org.eclipse.ui.newWizards">
		<category id="org.xwiki.eclipse" name="XWiki Eclipse">
      </category>
		<wizard category="org.xwiki.eclipse" class="org.xwiki.eclipse.ui.wizards.NewConnectionWizard" icon="icons/xwiki.png" id="org.xwiki.eclipse.ui.wizards.NewConnection" name="New connection">
      </wizard>
	</extension>
	<extension point="org.eclipse.ui.propertyPages">
		<page class="org.xwiki.eclipse.ui.properties.DataManagerPropertiesPage" icon="icons/xwiki.png" id="org.xwiki.eclipse.ui.properties.DataManager" name="Data Manager" objectClass="org.xwiki.eclipse.core.DataManager">
      </page>
		<page class="org.xwiki.eclipse.ui.properties.XWikiEclipseSpaceSummaryPropertiesPage" icon="icons/xwiki.png" id="org.xwiki.eclipse.ui.properties.XWikiEclipseSpaceSummary" name="Space" objectClass="org.xwiki.eclipse.core.model.XWikiEclipseSpaceSummary">
      </page>
		<page class="org.xwiki.eclipse.ui.properties.XWikiEclipsePageSummaryPropertiesPage" icon="icons/xwiki.png" id="org.xwiki.eclipse.ui.properties.XWikiEclipsePageSummary" name="Page" objectClass="org.xwiki.eclipse.core.model.XWikiEclipsePageSummary">
      </page>
	</extension>
	<extension point="org.eclipse.ui.commands">
		<command id="org.xwiki.eclipse.ui.commands.DataManagerConnect" name="Connect">
      </command>
		<command id="org.xwiki.eclipse.ui.commands.DataManagerDisconnect" name="Disconnect">
      </command>
  <command
        id="org.xwiki.eclipse.ui.commands.NewPage"
        name="New page">
  </command>
  <command
        id="org.xwiki.eclipse.ui.commands.NewObject"
        name="New object">
  </command>
  <command
        id="org.xwiki.eclipse.ui.commands.Delete"
        name="Delete">
  </command>
  <command
        id="org.xwiki.eclipse.ui.commands.Refresh"
        name="Refresh">
  </command>
	</extension>
	<extension point="org.eclipse.ui.handlers">
		<handler class="org.xwiki.eclipse.ui.handlers.DataManagerConnectHandler" commandId="org.xwiki.eclipse.ui.commands.DataManagerConnect">
			<activeWhen>
				<iterate operator="and">
					<test forcePluginActivation="true" property="org.xwiki.eclipse.core.DataManager.isConnected" value="false">
               </test>
				</iterate>
			</activeWhen>
		</handler>
		<handler class="org.xwiki.eclipse.ui.handlers.DataManagerDisconnectHandler" commandId="org.xwiki.eclipse.ui.commands.DataManagerDisconnect">
			<activeWhen>
				<iterate operator="and">
					<test forcePluginActivation="true" property="org.xwiki.eclipse.core.DataManager.isConnected" value="true">
               </test>
				</iterate>
			</activeWhen>
		</handler>
  <handler
        class="org.xwiki.eclipse.ui.handlers.NewPageHandler"
        commandId="org.xwiki.eclipse.ui.commands.NewPage">
     <activeWhen>
        <iterate
              operator="and">
           <or>
              <instanceof
                    value="org.xwiki.eclipse.core.DataManager">
              </instanceof>
              <instanceof
                    value="org.xwiki.eclipse.core.model.XWikiEclipseSpaceSummary">
              </instanceof>
           </or>
        </iterate>
     </activeWhen>
  </handler>
  <handler
        class="org.xwiki.eclipse.ui.handlers.NewObjectHandler"
        commandId="org.xwiki.eclipse.ui.commands.NewObject">
     <activeWhen>
        <iterate
              operator="and">
           <instanceof
                 value="org.xwiki.eclipse.core.model.XWikiEclipsePageSummary">
           </instanceof>
        </iterate>
     </activeWhen>
  </handler>
  <handler
        class="org.xwiki.eclipse.ui.handlers.DeleteXWikiElementHandler"
        commandId="org.xwiki.eclipse.ui.commands.Delete">
  </handler>
  <handler
        class="org.xwiki.eclipse.ui.handlers.RefreshHandler"
        commandId="org.xwiki.eclipse.ui.commands.Refresh">
  </handler>
	</extension>
 <extension
       point="org.eclipse.ui.ide.projectNatureImages">
    <image
          icon="icons/xwiki.nature.png"
          id="org.xwiki.eclipse"
          natureId="org.xwiki.eclipse.XWikiEclipseNature">
    </image>
 </extension>
 <extension
       point="org.eclipse.ui.menus">
    <menuContribution
          locationURI="popup:org.xwiki.eclipse.ui.views.Navigator?after=additions">
       <command
             commandId="org.eclipse.ui.newWizard"
             style="push">
       </command>
    </menuContribution>
 </extension>
</plugin>
